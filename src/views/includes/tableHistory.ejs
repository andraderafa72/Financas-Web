<table class="historico-table">
  <tr>
    <th style="width: 5%; content: '';"></th>
    <th>Identificador</th>
    <th>Tipo</th>
    <th>Data</th>
    <th style="text-align: right;">Valor</th>
  </tr>

  <% for(let transacao of transacoes) { %>
    <% if(transacao.owner === user._id) { %>
      <tr>
        <td style="width: 5%; content: '';"></td>
        <td><%= transacao.identificador %></td>
        <td><%= transacao.categoria %></td>

        <% 
          const dataD = new Date(transacao.data.getDate(), transacao.data.getMonth(), transacao.data.getFullYear());
          if(dataD > new Date() && transacao.tipo === 'despesa') {
        %>
        <td style="color: red;"><%= `${transacao.data.getDate() + 1}/${transacao.data.getMonth() + 1}/${transacao.data.getFullYear()}` %></td>
        <% } else{ %>
        <td><%= `${transacao.data.getDate() + 1}/${transacao.data.getMonth() + 1}/${transacao.data.getFullYear()}` %></td>
        <% } %>
        
        <% if(transacao.tipo === 'despesa') { %>
        <td class="tipo-transacao-despesa"><%= `R$ ${transacao.valor}` %></td>
        <% } else if(transacao.tipo ==='receita'){ %>
          <td class="tipo-transacao-receita"><%= `R$ ${transacao.valor}` %></td>
        <% } %>
      </tr>   
    <% } %>
  <% } %>  

</table>